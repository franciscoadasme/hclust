<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Crystal Docs 1.3.2">
<meta name="crystal_docs.project_version" content="main">
<meta name="crystal_docs.project_name" content="hclust">



<link href="../css/style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../js/doc.js"></script>

  <meta name="repository-name" content="hclust">
  <title>HClust::IndexPriorityQueue - hclust main</title>
  <script type="text/javascript">
    CrystalDocs.base_path = "../";
  </script>
</head>
<body>

<svg class="hidden">
  <symbol id="octicon-link" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
  </symbol>
</svg>
<div class="sidebar">
  <div class="sidebar-header">
    <div class="search-box">
      <input type="search" class="search-input" placeholder="Search..." spellcheck="false" aria-label="Search">
    </div>

    <div class="project-summary">
      <h1 class="project-name">
        <a href="../index.html">
          hclust
        </a>
      </h1>

      <span class="project-version">
        main
      </span>
    </div>
  </div>

  <div class="search-results hidden">
    <ul class="search-list"></ul>
  </div>

  <div class="types-list">
    <ul>
  
  <li class="parent open current" data-id="hclust/HClust" data-name="hclust">
      <a href="../HClust.html">HClust</a>
      
        <ul>
  
  <li class=" " data-id="hclust/HClust/ChainRule" data-name="hclust::chainrule">
      <a href="../HClust/ChainRule.html">ChainRule</a>
      
    </li>
  
  <li class="parent " data-id="hclust/HClust/Dendrogram" data-name="hclust::dendrogram">
      <a href="../HClust/Dendrogram.html">Dendrogram</a>
      
        <ul>
  
  <li class=" " data-id="hclust/HClust/Dendrogram/Step" data-name="hclust::dendrogram::step">
      <a href="../HClust/Dendrogram/Step.html">Step</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="hclust/HClust/DistanceMatrix" data-name="hclust::distancematrix">
      <a href="../HClust/DistanceMatrix.html">DistanceMatrix</a>
      
    </li>
  
  <li class=" " data-id="hclust/HClust/IndexList" data-name="hclust::indexlist">
      <a href="../HClust/IndexList.html">IndexList</a>
      
    </li>
  
  <li class=" current" data-id="hclust/HClust/IndexPriorityQueue" data-name="hclust::indexpriorityqueue">
      <a href="../HClust/IndexPriorityQueue.html">IndexPriorityQueue</a>
      
    </li>
  
  <li class=" " data-id="hclust/HClust/Rule" data-name="hclust::rule">
      <a href="../HClust/Rule.html">Rule</a>
      
    </li>
  
  <li class=" " data-id="hclust/HClust/UnionFind" data-name="hclust::unionfind">
      <a href="../HClust/UnionFind.html">UnionFind</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

  </div>
</div>


<div class="main-content">
<h1 class="type-name">

  <span class="kind">class</span> HClust::IndexPriorityQueue

</h1>


  <ul class="superclass-hierarchy"><li class="superclass"><a href="../HClust/IndexPriorityQueue.html">HClust::IndexPriorityQueue</a></li><li class="superclass">Reference</li><li class="superclass">Object</li></ul>




  <h2>
    <a id="overview" class="anchor" href="#overview">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Overview
  </h2>

  <p>An <code><a href="../HClust/IndexPriorityQueue.html">IndexPriorityQueue</a></code> is a priority queue of contiguous zero-based
indexes.</p>
<p>It supports efficient access to and removal of the element with
highest priority (defined as the smallest value). It is designed for
optimally searching nearest neighbors (priority = dissimilarity).</p>
<p>It is implemented as a min binary heap (where the top is the minimum
element), where the indexes and priorities are also stored separately.
Note that deleted indexes are marked as inactive, but otherwise kept
in memory. Therefore, indexing is not supported.</p>














  <h2>
    <a id="defined-in" class="anchor" href="#defined-in">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Defined in:
  </h2>
  
    
      <a href="https://github.com/franciscoadasme/hclust/blob/0fe3d836a7970b43b6ebb0a7a92029d6ff483712/src/hclust/queue.cr#L14" target="_blank">
        hclust/queue.cr
      </a>
    
    <br/>
  





  <h2>
    <a id="constructors" class="anchor" href="#constructors">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Constructors
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#new%28size%3AInt32%2C%26%29-class-method" class="signature"><strong>.new</strong>(size : Int32, &)</a>
        
          <div class="summary"><p>Creates a new <code><a href="../HClust/IndexPriorityQueue.html">IndexPriorityQueue</a></code> with indexes in the range <code>[0, size)</code>, invoking the given block for each index and setting its priority to the block's return value.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#new%28priorities%3AArray%28Number%29%29%3Aself-class-method" class="signature"><strong>.new</strong>(priorities : Array(Number)) : <span class="k">self</span></a>
        
          <div class="summary"><p>Creates a new <code><a href="../HClust/IndexPriorityQueue.html">IndexPriorityQueue</a></code> from the given priorities with indexes in the range <code>[0, priorities.size)</code>.</p></div>
        
      </li>
    
  </ul>





  <h2>
    <a id="instance-method-summary" class="anchor" href="#instance-method-summary">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Instance Method Summary
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#empty%3F%3ABool-instance-method" class="signature"><strong>#empty?</strong> : Bool</a>
        
          <div class="summary"><p>Returns <code>true</code> if the queue is empty, else <code>false</code>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#first%3AInt32-instance-method" class="signature"><strong>#first</strong> : Int32</a>
        
          <div class="summary"><p>Returns the index with highest priority (smallest value).</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#first%3F%3AInt32%3F-instance-method" class="signature"><strong>#first?</strong> : Int32?</a>
        
          <div class="summary"><p>Returns the index with highest priority (smallest value), or <code>nil</code> if the queue is empty.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#pop%3AInt32%3F-instance-method" class="signature"><strong>#pop</strong> : Int32?</a>
        
          <div class="summary"><p>Removes and returns the index with highest priority (smallest value), or <code>nil</code> if the queue is empty.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#priority_at%28index%3AInt32%29%3AFloat64-instance-method" class="signature"><strong>#priority_at</strong>(index : Int32) : Float64</a>
        
          <div class="summary"><p>Returns the priority of the element at <em>index</em>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#set_priority_at%28index%3AInt%2Cpriority%3AFloat64%29%3ANil-instance-method" class="signature"><strong>#set_priority_at</strong>(index : Int, priority : Float64) : Nil</a>
        
          <div class="summary"><p>Updates the priority of the element at <em>index</em> with the given value.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#size%3AInt32-instance-method" class="signature"><strong>#size</strong> : Int32</a>
        
          <div class="summary"><p>Returns the number of indexes in the queue.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#to_a%3AArray%28Int32%29-instance-method" class="signature"><strong>#to_a</strong> : Array(Int32)</a>
        
          <div class="summary"><p>Returns the indexes as an array.</p></div>
        
      </li>
    
  </ul>





<div class="methods-inherited">
  
    


    


    


  
    


    


    


  
</div>


  <h2>
    <a id="constructor-detail" class="anchor" href="#constructor-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Constructor Detail
  </h2>
  
    <div class="entry-detail" id="new(size:Int32,&amp;)-class-method">
      <div class="signature">
        
        def self.<strong>new</strong>(size : Int32, &)

        <a class="method-permalink" href="#new%28size%3AInt32%2C%26%29-class-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Creates a new <code><a href="../HClust/IndexPriorityQueue.html">IndexPriorityQueue</a></code> with indexes in the range <code>[0, size)</code>, invoking the given block for each index and setting its
priority to the block's return value.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/franciscoadasme/hclust/blob/0fe3d836a7970b43b6ebb0a7a92029d6ff483712/src/hclust/queue.cr#L21" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="new(priorities:Array(Number)):self-class-method">
      <div class="signature">
        
        def self.<strong>new</strong>(priorities : Array(Number)) : <span class="k">self</span>

        <a class="method-permalink" href="#new%28priorities%3AArray%28Number%29%29%3Aself-class-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Creates a new <code><a href="../HClust/IndexPriorityQueue.html">IndexPriorityQueue</a></code> from the given priorities with
indexes in the range <code>[0, priorities.size)</code>.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/franciscoadasme/hclust/blob/0fe3d836a7970b43b6ebb0a7a92029d6ff483712/src/hclust/queue.cr#L42" target="_blank">View source</a>]
        
      </div>
    </div>
  





  <h2>
    <a id="instance-method-detail" class="anchor" href="#instance-method-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Instance Method Detail
  </h2>
  
    <div class="entry-detail" id="empty?:Bool-instance-method">
      <div class="signature">
        
        def <strong>empty?</strong> : Bool

        <a class="method-permalink" href="#empty%3F%3ABool-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Returns <code>true</code> if the queue is empty, else <code>false</code>.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/franciscoadasme/hclust/blob/0fe3d836a7970b43b6ebb0a7a92029d6ff483712/src/hclust/queue.cr#L58" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="first:Int32-instance-method">
      <div class="signature">
        
        def <strong>first</strong> : Int32

        <a class="method-permalink" href="#first%3AInt32-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Returns the index with highest priority (smallest value). Raises
<code>Enumerable::EmptyError</code> if the list is empty.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/franciscoadasme/hclust/blob/0fe3d836a7970b43b6ebb0a7a92029d6ff483712/src/hclust/queue.cr#L64" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="first?:Int32?-instance-method">
      <div class="signature">
        
        def <strong>first?</strong> : Int32?

        <a class="method-permalink" href="#first%3F%3AInt32%3F-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Returns the index with highest priority (smallest value), or <code>nil</code>
if the queue is empty.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/franciscoadasme/hclust/blob/0fe3d836a7970b43b6ebb0a7a92029d6ff483712/src/hclust/queue.cr#L70" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="pop:Int32?-instance-method">
      <div class="signature">
        
        def <strong>pop</strong> : Int32?

        <a class="method-permalink" href="#pop%3AInt32%3F-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Removes and returns the index with highest priority (smallest
value), or <code>nil</code> if the queue is empty.</p>
<p><span class="flag purple">NOTE</span>  The queue is updated internally to restore the heap property.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/franciscoadasme/hclust/blob/0fe3d836a7970b43b6ebb0a7a92029d6ff483712/src/hclust/queue.cr#L113" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="priority_at(index:Int32):Float64-instance-method">
      <div class="signature">
        
        def <strong>priority_at</strong>(index : Int32) : Float64

        <a class="method-permalink" href="#priority_at%28index%3AInt32%29%3AFloat64-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Returns the priority of the element at <em>index</em>. Raises <code>IndexError</code>
if <em>index</em> is out of bounds or inactive (removed).</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/franciscoadasme/hclust/blob/0fe3d836a7970b43b6ebb0a7a92029d6ff483712/src/hclust/queue.cr#L104" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="set_priority_at(index:Int,priority:Float64):Nil-instance-method">
      <div class="signature">
        
        def <strong>set_priority_at</strong>(index : Int, priority : Float64) : Nil

        <a class="method-permalink" href="#set_priority_at%28index%3AInt%2Cpriority%3AFloat64%29%3ANil-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Updates the priority of the element at <em>index</em> with the given value.</p>
<p><span class="flag purple">NOTE</span>  The queue is updated internally to restore the heap property.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/franciscoadasme/hclust/blob/0fe3d836a7970b43b6ebb0a7a92029d6ff483712/src/hclust/queue.cr#L131" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="size:Int32-instance-method">
      <div class="signature">
        
        def <strong>size</strong> : Int32

        <a class="method-permalink" href="#size%3AInt32-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Returns the number of indexes in the queue.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/franciscoadasme/hclust/blob/0fe3d836a7970b43b6ebb0a7a92029d6ff483712/src/hclust/queue.cr#L16" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="to_a:Array(Int32)-instance-method">
      <div class="signature">
        
        def <strong>to_a</strong> : Array(Int32)

        <a class="method-permalink" href="#to_a%3AArray%28Int32%29-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Returns the indexes as an array.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/franciscoadasme/hclust/blob/0fe3d836a7970b43b6ebb0a7a92029d6ff483712/src/hclust/queue.cr#L145" target="_blank">View source</a>]
        
      </div>
    </div>
  




</div>

</body>
</html>
